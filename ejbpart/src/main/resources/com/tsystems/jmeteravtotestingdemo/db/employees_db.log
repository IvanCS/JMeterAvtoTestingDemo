/*C2*/SET SCHEMA PUBLIC
CREATE TABLE DATABASECHANGELOGLOCK (ID INT NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED DATETIME, LOCKEDBY VARCHAR(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID))
INSERT INTO DATABASECHANGELOGLOCK VALUES(1,FALSE,NULL,NULL)
COMMIT
DELETE FROM DATABASECHANGELOGLOCK WHERE ID=1
INSERT INTO DATABASECHANGELOGLOCK VALUES(1,TRUE,'2013-03-03 17:39:51.724000','Ivan-PC (192.168.1.100)')
COMMIT
CREATE TABLE DATABASECHANGELOG (ID VARCHAR(63) NOT NULL, AUTHOR VARCHAR(63) NOT NULL, FILENAME VARCHAR(200) NOT NULL, DATEEXECUTED DATETIME NOT NULL, ORDEREXECUTED INT NOT NULL, EXECTYPE VARCHAR(10) NOT NULL, MD5SUM VARCHAR(35), DESCRIPTION VARCHAR(255), COMMENTS VARCHAR(255), TAG VARCHAR(255), LIQUIBASE VARCHAR(20), CONSTRAINT PK_DATABASECHANGELOG PRIMARY KEY (ID, AUTHOR, FILENAME))
CREATE TABLE departments (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(32), CONSTRAINT PK_DEPARTMENTS PRIMARY KEY (id))
CREATE TABLE employees (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, firstName VARCHAR(32), lastName VARCHAR(32), department INT, position VARCHAR(32), CONSTRAINT PK_EMPLOYEES PRIMARY KEY (id), CONSTRAINT department_fk FOREIGN KEY (department) REFERENCES departments(id))
INSERT INTO DATABASECHANGELOG VALUES('1','ivan','liquibase/changlogs/dbshema.changelog.xml','2013-03-03 17:39:52.409000',1,'EXECUTED','3:38efcea3ee53eabb1b34ebbaee390dee','Create Table (x2)','',NULL,'2.0.5')
COMMIT
CREATE TABLE roles (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(16), CONSTRAINT role_pk PRIMARY KEY (id))
INSERT INTO DATABASECHANGELOG VALUES('2','ivan','liquibase/changlogs/dbshema.changelog.xml','2013-03-03 17:39:52.424000',2,'EXECUTED','3:b2ebd1831018a54596c465caa6064586','Create Table','',NULL,'2.0.5')
COMMIT
CREATE TABLE sys_users (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, login VARCHAR(32), password VARCHAR(64), role_id INT, CONSTRAINT PK_SYS_USERS PRIMARY KEY (id))
ALTER TABLE sys_users ADD CONSTRAINT role_fk FOREIGN KEY (role_id) REFERENCES roles (id)
INSERT INTO DATABASECHANGELOG VALUES('3','dima','liquibase/changlogs/dbshema.changelog.xml','2013-03-03 17:39:52.470000',3,'EXECUTED','3:3514c3009be1b1422080b5ddc54b1e2f','Create Table, Add Foreign Key Constraint','',NULL,'2.0.5')
COMMIT
DELETE FROM DATABASECHANGELOGLOCK WHERE ID=1
INSERT INTO DATABASECHANGELOGLOCK VALUES(1,FALSE,NULL,NULL)
COMMIT
DELETE FROM DATABASECHANGELOGLOCK WHERE ID=1
INSERT INTO DATABASECHANGELOGLOCK VALUES(1,FALSE,NULL,NULL)
COMMIT
DISCONNECT

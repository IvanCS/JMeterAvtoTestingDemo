/*C2*/SET SCHEMA PUBLIC
CREATE TABLE DATABASECHANGELOGLOCK (ID INT NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED DATETIME, LOCKEDBY VARCHAR(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID))
INSERT INTO DATABASECHANGELOGLOCK VALUES(1,FALSE,NULL,NULL)
COMMIT
DELETE FROM DATABASECHANGELOGLOCK WHERE ID=1
INSERT INTO DATABASECHANGELOGLOCK VALUES(1,TRUE,'2013-05-13 13:59:22.859000','vrnnb-prc026 (10.233.47.45)')
COMMIT
CREATE TABLE DATABASECHANGELOG (ID VARCHAR(63) NOT NULL, AUTHOR VARCHAR(63) NOT NULL, FILENAME VARCHAR(200) NOT NULL, DATEEXECUTED DATETIME NOT NULL, ORDEREXECUTED INT NOT NULL, EXECTYPE VARCHAR(10) NOT NULL, MD5SUM VARCHAR(35), DESCRIPTION VARCHAR(255), COMMENTS VARCHAR(255), TAG VARCHAR(255), LIQUIBASE VARCHAR(20), CONSTRAINT PK_DATABASECHANGELOG PRIMARY KEY (ID, AUTHOR, FILENAME))
CREATE TABLE department (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(32), CONSTRAINT PK_DEPARTMENT PRIMARY KEY (id))
CREATE TABLE employee (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, firstName VARCHAR(32), lastName VARCHAR(32), department INT, position VARCHAR(32), CONSTRAINT PK_EMPLOYEE PRIMARY KEY (id), CONSTRAINT department_fk FOREIGN KEY (department) REFERENCES department(id))
INSERT INTO DATABASECHANGELOG VALUES('1','ivan','src/main/resources/liquibase/changlogs/dbshema.changelog.xml','2013-05-13 13:59:23.286000',1,'EXECUTED','3:1cb1ebd3d919bb8ea94cfbf968d8de13','Create Table (x2)','',NULL,'2.0.5')
COMMIT
CREATE TABLE "role" (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(16), CONSTRAINT role_pk PRIMARY KEY (id))
INSERT INTO DATABASECHANGELOG VALUES('2','ivan','src/main/resources/liquibase/changlogs/dbshema.changelog.xml','2013-05-13 13:59:23.297000',2,'EXECUTED','3:c15f6380bf0d7c8bd2a06ff30a2141c0','Create Table','',NULL,'2.0.5')
COMMIT
CREATE TABLE sys_user (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, login VARCHAR(32), password VARCHAR(64), role_id INT, CONSTRAINT PK_SYS_USER PRIMARY KEY (id))
ALTER TABLE sys_user ADD CONSTRAINT role_fk FOREIGN KEY (role_id) REFERENCES "role" (id)
INSERT INTO DATABASECHANGELOG VALUES('3','dima','src/main/resources/liquibase/changlogs/dbshema.changelog.xml','2013-05-13 13:59:23.310000',3,'EXECUTED','3:92e89d47e9a4b2e727befa706f0ff607','Create Table, Add Foreign Key Constraint','',NULL,'2.0.5')
COMMIT
INSERT INTO SYS_USER VALUES(0,'admin','admin',NULL)
INSERT INTO SYS_USER VALUES(1,'user','user',NULL)
COMMIT
INSERT INTO DATABASECHANGELOG VALUES('add users','dima','src/main/resources/liquibase/changlogs/dbdata.changelog.xml','2013-05-13 13:59:23.322000',4,'EXECUTED','3:690483089a52c40ceb9ce3b71364905f','Insert Row (x2)','',NULL,'2.0.5')
COMMIT
DELETE FROM DATABASECHANGELOGLOCK WHERE ID=1
INSERT INTO DATABASECHANGELOGLOCK VALUES(1,FALSE,NULL,NULL)
COMMIT
DELETE FROM DATABASECHANGELOGLOCK WHERE ID=1
INSERT INTO DATABASECHANGELOGLOCK VALUES(1,FALSE,NULL,NULL)
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
